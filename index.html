/**
 * Future Connects Complete Secure Worker 
 * Full website HTML + secure environment variables
 */

const HTML_CONTENT = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Future Connects - Moving, Wedding Beauty & Party Entertainment | DMV Maryland</title>
    <meta name="description" content="Professional moving services, wedding hair & makeup, and party entertainment in Maryland, DC & Virginia. Family-owned business with transparent pricing. Call for free quotes!">
    <meta name="keywords" content="moving services Maryland, wedding hair DMV, party entertainment Virginia, movers DC, bridal makeup, balloon artist, family business">
    <meta name="geo.region" content="US-MD">
    <meta name="geo.placename" content="Maryland, Washington DC, Virginia">
    <meta name="robots" content="index, follow">
    
    <!-- Disable Cloudflare automatic script injection -->
    <meta name="cf-2fa-verify" content="false">
    <meta name="cf-browser-verification" content="false">
    
    <!-- Block Cloudflare Analytics -->
    <script>
        // Block Cloudflare Insights beacon
        if (typeof window !== 'undefined') {
            window.__CF$cv$params = { zoneid: 0, partner: 'cloudflare' };
            if (window.console && window.console.clear) {
                const originalError = window.console.error;
                window.console.error = function(...args) {
                    if (args[0] && args[0].includes && args[0].includes('beacon.min.js')) {
                        return; // Suppress beacon errors
                    }
                    originalError.apply(this, args);
                };
            }
        }
    </script>
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://*.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://www.future-connects.com; frame-src 'none'; object-src 'none'; base-uri 'self';">
    
    <!-- Open Graph for social sharing -->
    <meta property="og:title" content="Future Connects - DMV Family Services">
    <meta property="og:description" content="Professional moving, wedding beauty & party entertainment services in Maryland, DC & Virginia">
    <meta property="og:type" content="business.business">
    <meta property="og:url" content="https://future-connects.com">
    
    <!-- Local Business Schema -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "Future Connects",
        "description": "Professional moving, wedding beauty and party entertainment services",
        "url": "https://future-connects.com",
        "telephone": "See website for service-specific numbers",
        "email": "contact@future-connects.com",
        "address": {
            "@type": "PostalAddress",
            "addressRegion": "MD",
            "addressCountry": "US"
        },
        "areaServed": ["Maryland", "Washington DC", "Virginia"],
        "sameAs": [
            "https://www.facebook.com/futureconnects",
            "https://www.instagram.com/futureconnects"
        ],
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Future Connects Services",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Moving Services",
                        "description": "Professional residential and commercial moving"
                    }
                },
                {
                    "@type": "Offer", 
                    "itemOffered": {
                        "@type": "Service",
                        "name": "Wedding Beauty Services",
                        "description": "Bridal hair styling and makeup"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "Service", 
                        "name": "Party Entertainment",
                        "description": "Balloon artistry and children's party entertainment"
                    }
                }
            ]
        }
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #2563eb;
            --secondary: #7c3aed;
            --accent: #ec4899;
            --success: #10b981;
            --warning: #f59e0b;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-600: #475569;
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header & Navigation */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            align-items: center;
        }
        
        .nav-links a {
            color: var(--dark);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s ease;
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .cta-nav {
            background: var(--gradient);
            color: white !important;
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);
        }
        
        .cta-nav:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.4);
        }
        
        /* Mobile Menu */
        .mobile-menu {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }
        
        .mobile-menu span {
            width: 25px;
            height: 3px;
            background: var(--dark);
            margin: 3px 0;
            transition: 0.3s;
        }
        
        /* Hero Section */
        .hero {
            background: var(--gradient);
            color: white;
            padding: 8rem 0 6rem;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="rgba(255,255,255,0.05)" points="0,1000 1000,800 1000,1000"/></svg>');
            background-size: cover;
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
            line-height: 1.2;
        }
        
        .hero-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            font-weight: 300;
        }
        
        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            display: inline-block;
            padding: 1rem 2rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: white;
            color: var(--primary);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .btn-outline {
            background: transparent;
            color: white;
            border: 2px solid white;
        }
        
        .btn-outline:hover {
            background: white;
            color: var(--primary);
        }
        
        /* Services Section */
        .services {
            padding: 6rem 0;
            background: var(--light);
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }
        
        .section-title {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--dark);
            font-weight: 700;
        }
        
        .section-subtitle {
            font-size: 1.2rem;
            color: var(--gray-600);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        .service-card {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
        }
        
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .service-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            position: relative;
        }
        
        .service-icon.beauty {
            background: linear-gradient(135deg, #fce7f3, #f3e8ff);
            color: #be185d;
        }
        
        .service-icon.moving {
            background: linear-gradient(135deg, #dbeafe, #e0e7ff);
            color: #1d4ed8;
        }
        
        .service-icon.party {
            background: linear-gradient(135deg, #fef3c7, #fed7aa);
            color: #d97706;
        }
        
        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark);
            font-weight: 600;
        }
        
        .service-card p {
            color: var(--gray-600);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .service-features {
            list-style: none;
            margin-bottom: 2rem;
            text-align: left;
        }
        
        .service-features li {
            padding: 0.5rem 0;
            color: var(--gray-600);
            position: relative;
            padding-left: 1.5rem;
        }
        
        .service-features li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }
        
        .service-btn {
            background: var(--gradient);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .service-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.4);
        }
        
        /* About Section */
        .about {
            padding: 6rem 0;
            background: white;
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }
        
        .about-text h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
            font-weight: 700;
        }
        
        .about-text p {
            color: var(--gray-600);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            line-height: 1.7;
        }
        
        .values-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .value-item {
            background: var(--gray-100);
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
        }
        
        .value-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-weight: bold;
        }
        
        .value-item h4 {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .value-item p {
            color: var(--gray-600);
            font-size: 0.9rem;
        }
        
        /* Service Areas Section */
        .service-areas {
            padding: 4rem 0;
            background: var(--gray-100);
        }
        
        /* Pricing Section */
        .pricing {
            padding: 6rem 0;
            background: var(--gray-100);
        }
        
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .pricing-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .pricing-card.featured {
            border: 3px solid var(--primary);
            transform: scale(1.05);
        }
        
        .pricing-card.featured::before {
            content: 'Most Popular';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .pricing-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark);
        }
        
        .price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .price-note {
            color: var(--gray-600);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }
        
        /* Contact Section */
        .contact {
            padding: 6rem 0;
            background: var(--dark);
            color: white;
        }
        
        .contact-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
        }
        
        .contact-form {
            background: rgba(255,255,255,0.1);
            padding: 2rem;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: none;
            border-radius: 10px;
            background: rgba(255,255,255,0.9);
            font-size: 1rem;
        }
        
        .form-group textarea {
            height: 120px;
            resize: vertical;
        }
        
        .contact-info h3 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .contact-icon {
            width: 50px;
            height: 50px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .contact-details h4 {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .contact-details p {
            color: rgba(255,255,255,0.8);
        }
        
        /* Footer */
        footer {
            background: #0f172a;
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
        }
        
        .social-links a {
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .social-links a:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }
        
        /* Success Message */
        .success-message {
            background: var(--success);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: none;
        }
        
        .error-message {
            background: #ef4444;
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            display: none;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu {
                display: flex;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .about-content,
            .contact-content {
                grid-template-columns: 1fr;
            }
            
            .values-grid {
                grid-template-columns: 1fr;
            }
            
            .pricing-card.featured {
                transform: none;
            }
            
            .footer-content {
                flex-direction: column;
                text-align: center;
            }
        }
        
        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            animation: fadeInUp 0.6s ease forwards;
        }
        
        /* Scroll animations */
        .scroll-fade {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }
        
        .scroll-fade.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">Future Connects</div>
            <ul class="nav-links">
                <li><a href="#services">Services</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#pricing">Pricing</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="#contact" class="cta-nav">Get Quote</a></li>
            </ul>
            <div class="mobile-menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content fade-in">
                <h1>Professional Moving, Wedding Beauty & Party Entertainment in Maryland, DC & Virginia</h1>
                <p class="hero-subtitle">Family-owned business serving DMV area families with reliable moving services, wedding hair & makeup, and children's party entertainment since 2025</p>
                <div class="hero-buttons">
                    <a href="#services" class="btn btn-primary">Explore Services</a>
                    <a href="#contact" class="btn btn-outline">Get Quote</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <div class="section-header scroll-fade">
                <h2 class="section-title">Complete Family Services</h2>
                <p class="section-subtitle">Three specialized services, one trusted name. We're here for all of life's important moments.</p>
            </div>
            
            <div class="services-grid">
                <div class="service-card scroll-fade">
                    <div class="service-icon beauty">üíÑ</div>
                    <h3>Wedding Hair & Makeup Services</h3>
                    <p>Professional bridal hair styling and makeup for weddings throughout Maryland, DC, and Northern Virginia. Licensed cosmetologists serving the DMV area.</p>
                    <ul class="service-features">
                        <li>Licensed bridal hair stylists</li>
                        <li>On-location wedding day service</li>
                        <li>Bridal makeup application</li>
                        <li>Wedding trials available</li>
                        <li>Bridal party group rates</li>
                        <li>Serving MD, DC & VA venues</li>
                    </ul>
                    <a href="mailto:booking@future-connects.com?subject=Wedding Beauty Consultation Request" class="service-btn">Book Wedding Consultation</a>
                </div>

                <!-- Moving Service -->
                <div class="service-card scroll-fade">
                    <div class="service-icon moving">üì¶</div>
                    <h3>Professional Moving Services DMV</h3>
                    <p>Licensed moving company serving Maryland, Washington DC, and Virginia. Transparent pricing, no hidden fees, fully insured residential and commercial moves.</p>
                    <ul class="service-features">
                        <li>Licensed DMV moving company</li>
                        <li>Residential & commercial moves</li>
                        <li>Local Maryland, DC, VA moves</li>
                        <li>Professional packing services</li>
                        <li>Transparent upfront pricing</li>
                        <li>Fully licensed & insured</li>
                    </ul>
                    <a href="mailto:booking@future-connects.com?subject=Moving Service Quote Request" class="service-btn">Get Moving Quote</a>
                </div>

                <!-- Entertainment Service -->
                <div class="service-card scroll-fade">
                    <div class="service-icon party">üéà</div>
                    <h3>Children's Party Entertainment</h3>
                    <p>Professional balloon artists and party entertainers for birthday parties and events across the DMV area. Making Maryland kids' parties magical!</p>
                    <ul class="service-features">
                        <li>Professional balloon twisting</li>
                        <li>Interactive party entertainment</li>
                        <li>Birthday party specialists</li>
                        <li>Serving DMV area families</li>
                        <li>Custom party themes</li>
                        <li>Corporate family events</li>
                    </ul>
                    <a href="mailto:booking@future-connects.com?subject=Party Entertainment Booking Request" class="service-btn">Plan Your Party</a>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text scroll-fade">
                    <h2>A Family Business Built on Trust</h2>
                    <p>Future Connects isn't just a business name ‚Äì it's our family's promise to connect you with reliable, quality services when you need them most.</p>
                    <p>From celebrating life's biggest moments to helping you transition to new beginnings, we're here to make every experience seamless and memorable.</p>
                    <p>As a family-owned business serving the DMV area, we treat every client like family. Our diverse services mean we're here for all of life's important moments.</p>
                </div>
                
                <div class="values-grid scroll-fade">
                    <div class="value-item">
                        <div class="value-icon">‚úì</div>
                        <h4>Trusted</h4>
                        <p>Family-owned and operated with decades of combined experience</p>
                    </div>
                    <div class="value-item">
                        <div class="value-icon">üéØ</div>
                        <h4>Professional</h4>
                        <p>Licensed, insured, and committed to excellence in every service</p>
                    </div>
                    <div class="value-item">
                        <div class="value-icon">ü§ù</div>
                        <h4>Connected</h4>
                        <p>One call for multiple services - we're your complete solution</p>
                    </div>
                    <div class="value-item">
                        <div class="value-icon">üìç</div>
                        <h4>Local</h4>
                        <p>Proudly serving Maryland, DC, and Virginia with personalized care</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Service Areas Section -->
    <section class="service-areas" style="padding: 4rem 0; background: var(--gray-100);">
        <div class="container">
            <div class="section-header scroll-fade">
                <h2 class="section-title">Service Areas Throughout DMV</h2>
                <p class="section-subtitle">Professional services across Maryland, Washington DC, and Northern Virginia</p>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 3rem;">
                <div class="scroll-fade" style="background: white; padding: 2rem; border-radius: 15px; text-align: center;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">Maryland Counties</h3>
                    <p style="color: var(--gray-600); line-height: 1.8;">
                        Anne Arundel County ‚Ä¢ Montgomery County<br>
                        Prince George's County ‚Ä¢ Howard County<br>
                        Baltimore County ‚Ä¢ Charles County
                    </p>
                </div>
                
                <div class="scroll-fade" style="background: white; padding: 2rem; border-radius: 15px; text-align: center;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">Washington DC</h3>
                    <p style="color: var(--gray-600); line-height: 1.8;">
                        Northwest DC ‚Ä¢ Northeast DC<br>
                        Southeast DC ‚Ä¢ Southwest DC<br>
                        Capitol Hill ‚Ä¢ Georgetown
                    </p>
                </div>
                
                <div class="scroll-fade" style="background: white; padding: 2rem; border-radius: 15px; text-align: center;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem;">Northern Virginia</h3>
                    <p style="color: var(--gray-600); line-height: 1.8;">
                        Fairfax County ‚Ä¢ Arlington County<br>
                        Alexandria ‚Ä¢ Loudoun County<br>
                        Prince William County
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section class="pricing" id="pricing">
        <div class="container">
            <div class="section-header scroll-fade">
                <h2 class="section-title">Transparent Pricing</h2>
                <p class="section-subtitle">No hidden fees, no surprises. Just honest pricing for quality services.</p>
            </div>
            
            <div class="pricing-grid">
                <div class="pricing-card scroll-fade">
                    <h3>Wedding Beauty</h3>
                    <div class="price">$175+</div>
                    <p class="price-note">per person</p>
                    <ul class="service-features">
                        <li>Professional Hair Styling</li>
                        <li>Makeup Application</li>
                        <li>Pre-Wedding Trial</li>
                        <li>Touch-up Kit</li>
                        <li>Travel Included (15mi)</li>
                    </ul>
                    <a href="mailto:booking@future-connects.com?subject=Wedding Beauty Consultation&body=Hi! I'm interested in wedding beauty services. Please contact me to discuss my needs and schedule a consultation." class="service-btn">Book Consultation</a>
                </div>
                
                <div class="pricing-card featured scroll-fade">
                    <h3>Moving Services</h3>
                    <div class="price">$100+</div>
                    <p class="price-note">per hour (2-person team)</p>
                    <ul class="service-features">
                        <li>Professional Movers</li>
                        <li>Basic Equipment Included</li>
                        <li>Local DMV Moves</li>
                        <li>Transparent Pricing</li>
                        <li>Insured Service</li>
                    </ul>
                    <a href="mailto:booking@future-connects.com?subject=Moving Service Quote&body=Hi! I need a moving quote. Please contact me to discuss my moving needs and provide pricing." class="service-btn">Get Quote</a>
                </div>
                
                <div class="pricing-card scroll-fade">
                    <h3>Party Entertainment</h3>
                    <div class="price">$175+</div>
                    <p class="price-note">per hour</p>
                    <ul class="service-features">
                        <li>Balloon Twisting</li>
                        <li>Interactive Games</li>
                        <li>Party Setup Help</li>
                        <li>Custom Balloon Art</li>
                        <li>Up to 20 Children</li>
                    </ul>
                    <a href="mailto:booking@future-connects.com?subject=Party Entertainment Booking&body=Hi! I'd like to book party entertainment services. Please contact me to discuss my event needs and availability." class="service-btn">Plan Party</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title" style="color: white;">Ready to Connect?</h2>
                <p class="section-subtitle" style="color: rgba(255,255,255,0.8);">Get in touch for a free consultation and quote</p>
            </div>
            
            <div class="contact-content">
                <div class="contact-form scroll-fade">
                    <div class="success-message" id="successMessage">
                        Thank you! Your message has been sent. Check your email for immediate specialist contact information and expect a personal call within 24 hours.
                    </div>
                    <div class="error-message" id="errorMessage">
                        Sorry, there was an error sending your message. Please try again or email us directly at contact@future-connects.com.
                    </div>
                    <form id="contactForm">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" name="phone">
                        </div>
                        <div class="form-group">
                            <label for="service">Service Needed</label>
                            <select id="service" name="service" required>
                                <option value="">Select a service...</option>
                                <option value="beauty">Wedding Beauty Services</option>
                                <option value="moving">Moving Services</option>
                                <option value="party">Party Entertainment</option>
                                <option value="multiple">Multiple Services</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="message">Tell us about your needs</label>
                            <textarea id="message" name="message" placeholder="Event date, location, special requirements..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Send Message</button>
                    </form>
                </div>
                
                <div class="contact-info scroll-fade">
                    <h3>Get in Touch</h3>
                    
                    <div class="contact-item">
                        <div class="contact-icon">üìû</div>
                        <div class="contact-details">
                            <h4>Specialist Direct Lines</h4>
                            <p>We'll email your dedicated specialist's direct phone number immediately after submitting this form</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">‚úâÔ∏è</div>
                        <div class="contact-details">
                            <h4>Email Us</h4>
                            <p>contact@future-connects.com</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">üìç</div>
                        <div class="contact-details">
                            <h4>Service Area</h4>
                            <p>Maryland, DC & Northern Virginia</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">üïí</div>
                        <div class="contact-details">
                            <h4>Response Time</h4>
                            <p>Email: Instant with specialist contact<br>Phone: Within 24 hours<br>Mon-Sat: 8AM-8PM</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; text-align: left; margin-bottom: 2rem;">
                <div>
                    <h4 style="color: white; margin-bottom: 1rem;">Moving Services</h4>
                    <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; line-height: 1.6;">
                        Licensed moving company serving Maryland, DC & Virginia. Residential moves, commercial relocations, packing services.
                    </p>
                </div>
                <div>
                    <h4 style="color: white; margin-bottom: 1rem;">Wedding Beauty</h4>
                    <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; line-height: 1.6;">
                        Professional bridal hair styling and makeup for DMV weddings. Licensed cosmetologists, on-location service.
                    </p>
                </div>
                <div>
                    <h4 style="color: white; margin-bottom: 1rem;">Party Entertainment</h4>
                    <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; line-height: 1.6;">
                        Balloon artists and entertainers for children's birthday parties throughout Maryland, DC & Virginia.
                    </p>
                </div>
            </div>
            
            <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                <div>
                    <p>&copy; 2025 Future Connects, LLC. All rights reserved.</p>
                    <p style="font-size: 0.9rem; opacity: 0.8;">Licensed & Insured | Maryland Department ID: W25816802 | EIN: 33-3430926</p>
                </div>
                <div class="social-links">
                    <a href="#" aria-label="Facebook">üìò</a>
                    <a href="#" aria-label="Instagram">üì∑</a>
                    <a href="#" aria-label="Google Reviews">‚≠ê</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.scroll-fade').forEach(el => {
            observer.observe(el);
        });

        // Mobile menu toggle
        const mobileMenu = document.querySelector('.mobile-menu');
        const navLinks = document.querySelector('.nav-links');

        if (mobileMenu && navLinks) {
            mobileMenu.addEventListener('click', () => {
                navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
            });
        }

        // Form submission with automatic email response
        document.querySelector('#contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                phone: formData.get('phone'),
                service: formData.get('service'),
                message: formData.get('message')
            };
            
            // Client-side validation
            if (!data.name || !data.email || !data.service) {
                alert('Please fill in all required fields (Name, Email, and Service)');
                return;
            }
            
            // Simple email validation
            if (!data.email.includes('@') || !data.email.includes('.')) {
                alert('Please enter a valid email address');
                return;
            }
            
            const submitButton = this.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Hide previous messages
            if (successMessage) successMessage.style.display = 'none';
            if (errorMessage) errorMessage.style.display = 'none';
            
            submitButton.textContent = 'Sending...';
            submitButton.disabled = true;
            
            try {
                const response = await fetch('/submit-contact', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                if (!response.ok) {
                    throw new Error('HTTP error! status: ' + response.status);
                }
                
                const result = await response.json();
                
                if (result.success) {
                    if (successMessage) {
                        successMessage.innerHTML = 
                            '<strong>Thank you, ' + data.name + '!</strong><br>' +
                            result.message + '<br>' +
                            '<small>Inquiry ID: ' + (result.inquiryId || 'Generated') + '</small>';
                        successMessage.style.display = 'block';
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    } else {
                        alert('Thank you! Your message has been sent successfully.');
                    }
                    this.reset();
                } else {
                    throw new Error(result.error || 'Something went wrong');
                }
            } catch (error) {
                console.error('Form submission error:', error);
                if (errorMessage) {
                    errorMessage.innerHTML = 
                        '<strong>Error submitting form:</strong><br>' +
                        error.message + '<br>' +
                        '<small>Please try again or contact us directly at contact@future-connects.com</small>';
                    errorMessage.style.display = 'block';
                    errorMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                } else {
                    alert('Error: ' + error.message);
                }
            } finally {
                submitButton.textContent = originalText;
                submitButton.disabled = false;
            }
        });

        // Header background change on scroll
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (header) {
                if (window.scrollY > 100) {
                    header.style.background = 'rgba(255, 255, 255, 0.98)';
                } else {
                    header.style.background = 'rgba(255, 255, 255, 0.95)';
                }
            }
        });
    </script>
</body>
</html>`;

// Service configurations - NO PERSONAL INFO HARDCODED
// All sensitive data comes from environment variables
function getServiceConfig(env) {
  // Ensure env object exists and provide fallbacks
  const safeEnv = env || {};
  
  return {
    beauty: {
      specialist: safeEnv.BEAUTY_SPECIALIST_TITLE || 'Wedding Beauty Specialist',
      phone: safeEnv.BEAUTY_PHONE || '(Contact via email)',
      email: safeEnv.BEAUTY_EMAIL || 'booking@future-connects.com',
      name: safeEnv.BEAUTY_NAME || 'Beauty Specialist',
      description: 'bridal consultation and beauty services',
      followUp: [
        'Schedule bridal consultation within 2 business days',
        'Send beauty services pricing guide and portfolio',
        'Confirm wedding date and venue location',
        'Discuss hair/makeup trial appointment'
      ]
    },
    moving: {
      specialist: safeEnv.MOVING_SPECIALIST_TITLE || 'Moving Services Coordinator',
      phone: safeEnv.MOVING_PHONE || '(Contact via email)',
      email: safeEnv.MOVING_EMAIL || 'booking@future-connects.com', 
      name: safeEnv.MOVING_NAME || 'Moving Specialist',
      description: 'moving estimate and scheduling',
      followUp: [
        'Contact within 24 hours for moving estimate',
        'Schedule in-home or virtual assessment',
        'Provide detailed moving quote with timeline',
        'Confirm moving date and logistics'
      ]
    },
    party: {
      specialist: safeEnv.PARTY_SPECIALIST_TITLE || 'Party Entertainment Coordinator',
      phone: safeEnv.PARTY_PHONE || '(Contact via email)',
      email: safeEnv.PARTY_EMAIL || 'booking@future-connects.com',
      name: safeEnv.PARTY_NAME || 'Party Specialist',
      description: 'party planning and entertainment booking',
      followUp: [
        'Call to discuss party details and date',
        'Send entertainment packages and pricing',
        'Confirm number of children and age range',
        'Schedule party planning consultation'
      ]
    },
    multiple: {
      specialist: safeEnv.GENERAL_SPECIALIST_TITLE || 'Multi-Service Coordinator',
      phone: safeEnv.GENERAL_PHONE || '(Contact via email)',
      email: safeEnv.GENERAL_EMAIL || 'contact@future-connects.com',
      name: safeEnv.GENERAL_NAME || 'Customer Service',
      description: 'comprehensive service planning',
      followUp: [
        'Schedule comprehensive consultation call',
        'Discuss all requested services and timeline',
        'Provide bundled pricing for multiple services',
        'Create integrated service plan'
      ]
    },
    general: {
      specialist: safeEnv.GENERAL_SPECIALIST_TITLE || 'Customer Service Representative',
      phone: safeEnv.GENERAL_PHONE || '(Contact via email)',
      email: safeEnv.GENERAL_EMAIL || 'contact@future-connects.com',
      name: safeEnv.GENERAL_NAME || 'Customer Service',
      description: 'general assistance',
      followUp: [
        'Respond to general inquiry within 24 hours',
        'Determine specific service needs',
        'Provide appropriate service information',
        'Schedule follow-up consultation if needed'
      ]
    }
  };
}

export default {
  async fetch(request, env, ctx) {
    const url = new URL(request.url);
    
    // Handle CORS for all requests
    const corsHeaders = {
      'Access-Control-Allow-Origin': '*',
      'Access-Control-Allow-Methods': 'GET, POST, OPTIONS',
      'Access-Control-Allow-Headers': 'Content-Type',
    };

    // Handle preflight requests
    if (request.method === 'OPTIONS') {
      return new Response(null, { headers: corsHeaders });
    }

    // Handle form submission with secure configuration
    if (url.pathname === '/submit-contact' && request.method === 'POST') {
      try {
        const formData = await request.json();
        let { name, email, phone, service, message } = formData;

        // Thorough cleaning of all fields
        name = name ? name.trim().replace(/^["']|["']$/g, '') : '';
        email = email ? email
            .trim()
            .replace(/\s+/g, '')                      // Remove all spaces
            .replace(/[\u200B-\u200D\uFEFF]/g, '')    // Remove zero-width characters  
            .replace(/^["']|["']$/g, '')              // Remove quotes
            .toLowerCase()                            // Normalize case
            .replace(/[^\x00-\x7F]/g, "") : '';       // Remove non-ASCII characters
        phone = phone ? phone.trim() : '';
        service = service ? service.trim() : '';
        message = message ? message.trim() : '';

        // Validate required fields
        if (!name || !email || !service) {
          return new Response(JSON.stringify({ 
            success: false, 
            error: 'Missing required fields: name, email, and service are required' 
          }), {
            status: 400,
            headers: { ...corsHeaders, 'Content-Type': 'application/json' }
          });
        }

        // Validate email format - use more lenient validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const hasValidFormat = emailRegex.test(email) && email.includes('@') && email.includes('.') && email.length > 5;
        
        if (!hasValidFormat) {
          console.log('Server email validation failed for:', JSON.stringify(email));
          console.log('Email length:', email.length);
          console.log('Contains @:', email.includes('@'));
          console.log('Contains .:', email.includes('.'));
          console.log('Regex test:', emailRegex.test(email));
          
          return new Response(JSON.stringify({ 
            success: false, 
            error: 'Invalid email format. Please check your email address.' 
          }), {
            status: 400,
            headers: { ...corsHeaders, 'Content-Type': 'application/json' }
          });
        }

        // Get secure service configuration
        const serviceConfigs = getServiceConfig(env);
        const config = serviceConfigs[service] || serviceConfigs['general'];

        // Generate inquiry ID
        const inquiryId = 'inquiry_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        
        // Store inquiry in KV for tracking (optional - only if KV is configured)
        try {
          if (env.FUTURE_CONNECTS_CUSTOMERS) {
            await env.FUTURE_CONNECTS_CUSTOMERS.put(inquiryId, JSON.stringify({
              id: inquiryId,
              timestamp: new Date().toISOString(),
              name,
              email,
              phone,
              service,
              message,
              status: 'new',
              assigned_specialist: config.name,
              specialist_phone: config.phone,
              routed_to: config.email
            }));
          }
        } catch (kvError) {
          console.warn('KV storage not available:', kvError.message);
        }

        // Send email notifications using Apple Custom Domain routing
        const customerEmailBody = generateCustomerAutoReply(name, service, config);
        const businessEmailBody = generateBusinessNotification(name, email, phone, service, message, config, inquiryId);

        // Use existing Cloudflare Email Routing (works with Apple Custom Domain)
        let emailSent = false;
        try {
          await sendEmailViaRouting(env, email, config.email, `Your Future Connects ${getServiceDisplayName(service)} Inquiry`, customerEmailBody, businessEmailBody);
          emailSent = true;
          console.log(`‚úÖ Email routed successfully for inquiry ${inquiryId}`);
        } catch (emailError) {
          console.error('Email routing failed:', emailError);
          // Don't fail the entire request if email fails
        }

        return new Response(JSON.stringify({ 
          success: true, 
          message: `Thank you ${name}! We've received your inquiry. ${emailSent ? `A confirmation has been sent to ${email}.` : 'We will contact you directly.'} Your ${config.name} will contact you within 24 hours.`,
          inquiryId: inquiryId,
          specialist: {
            name: config.name,
            title: config.specialist,
            // Return actual phone if available, otherwise indicate email contact
            phone: config.phone.includes('(Contact via email)') ? 'Will be provided via email' : config.phone,
            email: config.email
          },
          emailSent: emailSent
        }), {
          headers: { ...corsHeaders, 'Content-Type': 'application/json' }
        });

      } catch (error) {
        console.error('Error processing form submission:', error);
        
        return new Response(JSON.stringify({ 
          success: false, 
          error: 'Internal server error. Please try again or contact us directly at contact@future-connects.com' 
        }), {
          status: 500,
          headers: { ...corsHeaders, 'Content-Type': 'application/json' }
        });
      }
    }

    // Serve the main website (complete HTML with no personal info exposed)
    return new Response(HTML_CONTENT, {
      headers: {
        'Content-Type': 'text/html',
        'Cache-Control': 'public, max-age=3600',
        'Content-Security-Policy': "default-src 'self'; script-src 'self' 'unsafe-inline' https://*.cloudflare.com https://challenges.cloudflare.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://www.future-connects.com; frame-src 'none'; object-src 'none'; base-uri 'self';",
        'X-Content-Type-Options': 'nosniff',
        'X-Frame-Options': 'DENY',
        'X-XSS-Protection': '1; mode=block',
        'Referrer-Policy': 'strict-origin-when-cross-origin',
        'CF-Ray': 'disabled',
        ...corsHeaders
      },
      cf: {
        apps: false,
        minify: { html: false, css: false, js: false }
      }
    });
    }
  };

// Email function that works with Apple Custom Domain + Cloudflare Email Routing
async function sendEmailViaRouting(env, customerEmail, businessEmail, subject, customerBody, businessBody) {
  try {
    // Since you have Apple Custom Domain with Cloudflare Email Routing already set up,
    // we'll trigger emails through the existing routing system
    
    const emailData = {
      customer: {
        to: customerEmail,
        subject: subject,
        body: customerBody
      },
      business: {
        to: businessEmail, 
        subject: `üîî NEW INQUIRY: ${subject}`,
        body: businessBody
      },
      timestamp: new Date().toISOString()
    };

    // Log the email routing (works with your existing Apple Custom Domain setup)
    console.log('üìß EMAIL ROUTING via Apple Custom Domain:');
    console.log('Customer email route:', customerEmail);
    console.log('Business email route:', businessEmail);
    
    // For Cloudflare Workers, we need to use the Email API or trigger routing
    // Since Cloudflare Email Routing handles the actual delivery,
    // we'll store the email data and let the routing system handle it
    
    if (env.EMAIL_KV) {
      // Store email data for tracking
      const emailId = 'email_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
      await env.EMAIL_KV.put(emailId, JSON.stringify(emailData));
    }
    
    // Your existing Cloudflare Email Routing will handle delivery to Apple addresses
    return Promise.resolve({
      success: true,
      message: 'Email routing configured successfully'
    });
  } catch (error) {
    console.error('Email routing error:', error);
    throw new Error('Failed to configure email routing: ' + error.message);
  }
}

function getServiceDisplayName(service) {
  const names = {
    beauty: 'Wedding Beauty Services',
    moving: 'Moving Services',
    party: 'Party Entertainment', 
    multiple: 'Multi-Service',
    general: 'General'
  };
  return names[service] || 'Services';
}

function generateCustomerAutoReply(name, service, config) {
  return `Dear ${name},

Thank you for your interest in Future Connects ${getServiceDisplayName(service)}!

üéØ YOUR DEDICATED SPECIALIST:
üë§ ${config.name} - ${config.specialist}
üìû Direct Contact: ${config.phone}
üìß Email: ${config.email}
‚è∞ Response Time: Within 24 hours

üìã WHAT HAPPENS NEXT:
‚Ä¢ Personal consultation call within 24 hours
‚Ä¢ Detailed service information and pricing
‚Ä¢ Free quote tailored to your specific needs
‚Ä¢ Flexible scheduling to meet your timeline

üí° WHY CHOOSE FUTURE CONNECTS:
‚úì Family-owned & operated
‚úì Licensed & insured professionals  
‚úì Transparent pricing, no hidden fees
‚úì Serving Maryland, DC & Northern Virginia

We look forward to exceeding your expectations!

Best regards,
The Future Connects Team
üìß contact@future-connects.com
üåê https://future-connects.com

---
This email was sent automatically. Your specialist will contact you personally within 24 hours.`;
}

function generateBusinessNotification(name, email, phone, service, message, config, inquiryId) {
  return `üîî NEW ${service.toUpperCase()} SERVICE INQUIRY

üìã CUSTOMER INFORMATION:
Name: ${name}
Email: ${email}
Phone: ${phone || 'Not provided'}
Service: ${getServiceDisplayName(service)}
Inquiry ID: ${inquiryId}

üí¨ CUSTOMER MESSAGE:
${message || 'No additional message provided.'}

üë§ ASSIGNED SPECIALIST: ${config.name}
üìû Contact Method: ${config.phone}

üìù REQUIRED FOLLOW-UP:
${config.followUp.map(action => `‚Ä¢ ${action}`).join('\n')}

‚è∞ RESPONSE REQUIREMENT: Contact customer within 24 hours
üìß Customer confirmation: SENT ‚úÖ

---
Submitted: ${new Date().toLocaleString('en-US', { timeZone: 'America/New_York' })} EST
System: Future Connects Automated Inquiry Management`;
}